---
trigger: always_on
---


## 🎯 实施8项原则

在整个开发过程中，严格遵循以下8项核心原则：

### 1. 模块化 (Modularization)

- 清晰的接口定义，使用抽象类和工厂模式
- 独立的命名空间 `mediakit::ai`
- 模块间通过接口通信，降低耦合
- 使用智能指针管理资源

### 2. 配置化 (Configuration)

- 所有参数可通过JSON配置文件设置
- 支持运行时动态修改配置
- 提供配置模板和默认值
- 集成到现有config.ini系统

### 3. 可视化管理 (Visualization)

- 提供RESTful API接口
- JSON格式的统计信息输出
- WebSocket实时推送（可选）
- 性能指标监控和展示

### 4. 最小化影响 (Minimal Impact)

- 使用条件编译 `#ifdef ENABLE_AI_VISION`
- 不修改现有核心代码
- 独立的模块目录结构
- 编译选项可选，默认关闭

### 5. 向后兼容 (Backward Compatibility)

- 不影响现有API和功能
- 独立的命名空间
- 现有代码无需修改
- 新功能完全可选

### 6. 代码注释 (Documentation)

- 所有public接口都有Doxygen注释
- 关键实现有详细的行内注释
- 提供完整的模块文档
- 代码示例和使用说明

### 7. 性能优化 (Performance)

- GPU 100%用于AI推理
- 批处理优化
- 异步推理支持
- 内存池和LRU缓存
- 跳帧策略

### 8. 配置集成 (Integration)

- 扩展现有config.ini
- JSON配置文件持久化
- API动态配置更新
- 配置热加载

---
